<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <title>A7Q1 - Using basic js selector</title>
  </head>
  <body>
    <h1>Table</h1>
    <div align="center">
      <img src="https://www.sunbeaminfo.in/img/new/new_logo.png" alt="" />
    </div>

    <form action="">
      <table align="center">
        <thead align="center">
          <tr>
            <td colspan="12">
              <h2>Student Registration Form</h2>
            </td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td rowspan="10">
              <iframe
                width="400"
                height="300"
                src="https://www.youtube.com/embed/JK8Bf5jSIsQ?si=RuMR8TiPqS-y5o72"
                title="YouTube video player"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin"
                allowfullscreen
              ></iframe>
            </td>
          </tr>
          <tr>
            <td>
              <label for=""><b>Name</b></label>
            </td>
            <td>
              <input type="text" required id="name" />
              <span class="text-danger d-none" id="sname"
                >Only alphabets allowed, max 10 characters</span
              >
            </td>
          </tr>
          <tr>
            <td>
              <label for=""><b>BirthDate</label>
            </td>
            <td>
              <input type="date" id="dob" required />
              <span class="text-danger d-none" id="sdob"
                >you must be at least 18 yers old</span
              >
            </td>
          </tr>
          <tr>
            <td>
              <label for=""><b>Email</label>
            </td>
            <td>
              <input type="email" id="email" />
              <span class="text-danger d-none" id="semail"
                >Email is required</span
              >
            </td>
          </tr>
          <tr>
            <td>
              <label for=""><b>Password</label>
            </td>
            <td>
              <input type="password" id="pass" />
              <span class="text-danger d-none" id="spass"
                >Password must be at least 9 characters, contain # and one
                digit</span
              >
            </td>
          </tr>
          <tr>
            <td>
              <label for=""><b>Address</label>
            </td>
            <td>
              <textarea id="add"></textarea>
              <span class="text-danger d-none" id="sadd"
                >Address is required</span
              >
            </td>
          </tr>
          <tr>
            <td>
              <label for=""><b>Gender</label>
            </td>
            <td>
              <input type="radio" name="gender" class="gender" /> Male
              <input type="radio" name="gender" class="gender" />Female
              <span class="text-danger d-none" id="sgender"
                >Gender is required</span
              >
            </td>
          </tr>
          <tr>
            <td>
              <label for=""><b>Upload Photo</label>
            </td>
            <td>
              <input type="file" id="file" />
              <span class="text-danger d-none" id="sphoto"
                >Photo is required</span
              >
            </td>
          </tr>
          <tr>
            <td>
              <label for=""><b>Select Your Course</label>
            </td>
            <td>
              
              <select id="course">
                <option value="">Select Course</option>
                <option value="">Cpp</option>
                <option value="">Java</option>
                <option value="">DBT</option>
              </select>
              <span class="text-danger d-none" id="scourse"
                >Please select a course</span
              >
            </td>
          </tr>
          <tr>
            <td>
              <label for=""><b>Skill Sets</label>
            </td>
            <td>
                <input type="checkbox" class="checkk" /> Java :
                <input type="checkbox" class="checkk" /> Cpp :
                <input type="checkbox" class="checkk" /> OS

              <span class="text-danger d-none" id="scheck"
                >Select least one skill</span
              >
            </td>
          </tr>
        </tbody>

        <tfoot align="center">
          <tr>
            <td>
            </td>
            <td>
            </td>
            <td align="left">
              <input type="submit" id="save" value="Register" />
              <input type="reset" name="" value="Clear" />
            </td>
          </tr>
        </tfoot>
      </table>
    </form>

    <script>
      let name = document.getElementById("name");
      let dob = document.getElementById("dob");
      let pass = document.getElementById("pass");
      let email = document.getElementById("email");
      let add = document.getElementById("add");
      let gender = document.getElementsByClassName("gender");
      let file = document.getElementById("file");
      let course = document.getElementById("course");
      let checkk = document.getElementsByClassName("checkk");
      let save = document.getElementById("save");

      let curdate = new Date();
      let newd = `${curdate.getFullYear()}-${curdate.getDate()}-${
        curdate.getMonth() + 1
      }`;

      let sname = document.getElementById("sname");
      let sdob = document.getElementById("sdob");
      let semail = document.getElementById("semail");
      let spass = document.getElementById("spass");
      let sadd = document.getElementById("sadd");
      let sgender = document.getElementById("sgender");
      let scourse = document.getElementById("scourse");
      let sphoto = document.getElementById("sphoto");
      let scheck = document.getElementById("scheck");
      console.log(sname);

      save.addEventListener("click", (e) => {
        e.preventDefault();

        // for name input
        let pattern = /[a-zA-Z\s-]+$/;
        if (!pattern.test(name.value) || name.value.length > 10) {
          sname.classList.remove("d-none");
        } else {
          sname.classList.add("d-none");
        }

        // for dob input
        let dobv = new Date(dob.value);
        let age = curdate.getFullYear() - dobv.getFullYear();

        if (age < 18 || !dob.value) {
          sdob.classList.remove("d-none");
        } else {
          sdob.classList.add("d-none");
        }

        // for email validation

        if (!email.value) {
          semail.classList.remove("d-none");
        } else {
          semail.classList.add("d-none");
        }

        // for password
        let patern = /(?=.*[0-9])(?=.*#).{9,}$/;

        if (!patern.test(pass.value)) {
          spass.classList.remove("d-none");
        } else {
          spass.classList.add("d-none");
        }

        // address validation
        if (!add.value) {
          sadd.classList.remove("d-none");
        } else {
          sadd.classList.add("d-none");
        }

        //gender validation
        let gendercheck = 0;

        for (e of gender) {
          if (!e.checked) gendercheck++;
        }
        if (gendercheck == gender.length) {
          sgender.classList.remove("d-none");
        } else {
          sgender.classList.add("d-none");
        }

        // file validation
        if (!file.value) {
          sphoto.classList.remove("d-none");
        } else {
          sphoto.classList.add("d-none");
        }

        // course validation

        let coursecheck = 0;
        for (c of course) {
          if (c.innerHTML === "Select Course") continue;
          if (!c.selected) coursecheck++;
        }

        if (coursecheck === course.length - 1) {
          scourse.classList.remove("d-none");
        } else {
          scourse.classList.add("d-none");
        }

        //skill validation
        let skillcheck = 0;
        for (s of checkk) {
          console.log(s);
          if (!s.checked) skillcheck++;
        }

        if (skillcheck === checkk.length) {
          scheck.classList.remove("d-none");
        } else {
          scheck.classList.add("d-none");
        }
      });
    </script>
  </body>
</html>
